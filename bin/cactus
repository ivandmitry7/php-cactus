#!/usr/bin/env php

<?php

include $_composer_autoload_path;

try {
    $cactus = new \Notihnio\Cactus\Cactus();
} catch (\Notihnio\Cactus\Exception\DepedencyException $exception) {
    echo "Dependency error: {$exception->getMessage()}\n";
    exit(1);
}

$rootDir = dirname(__FILE__, 5);

try {
    $cactus->compile($rootDir);
} catch (\Notihnio\Cactus\Exception\RunTimeException $exception) {
    echo "Runtime error: {$exception->getMessage()}\n";
    exit(1);
}
